<div class="animated fadeIn">
  <div class="card">
    <div class="card-header">
      <strong>Liste des tickets</strong>
    </div>
    <div class="card-body">
      <table class="table table-striped table-hover table-responsive-lg" datatable [dtOptions]="dtOptions"
             [dtTrigger]="dtTrigger">
        <thead>
        <tr>
          <th>Catégorie</th>
          <th>Objet</th>
          <th>Impact</th>
          <th>Problème</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let ticket of ticketsData">
          <ng-container *ngIf="ticket.categorie === 'Applicatif'">
            <td>{{ticket.categorie}}</td>
            <td>{{ticket.objet}}</td>
            <td>{{ticket.impact}}</td>
            <td>
              <a href="{{ticket.file}}" target="_blank" class="btn btn-success btn-sm">
                <i class="fa fa-download"></i> Télécharger le fichier
              </a>
            </td>
            <td>
              <a *ngIf="ticket.hasResponse === false && ticket.send_to_fournisseur === true" [routerLink]="['/home/tickets/fournisseur/reponse/', ticket.id]"
                 class="btn btn-info btn-sm text-white">
                <i class="fa fa-share fa-white"></i> Répondre
              </a>
              <a [routerLink]="['/home/tickets/fournisseur/reponse/show/', ticket.reponse.id]" class="btn btn-primary btn-sm"
                 *ngIf="ticket.hasResponse === true"><i class="fa fa-comment fa-white"></i> Réponse
              </a>
            </td>
          </ng-container>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
